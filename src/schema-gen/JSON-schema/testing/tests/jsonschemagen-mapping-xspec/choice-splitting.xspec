<?xml version="1.0" encoding="UTF-8"?>
<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec" stylesheet="../../../choice-split.xsl"
   xmlns="http://csrc.nist.gov/ns/oscal/metaschema/1.0">


   <x:scenario label="[A] various patterns">
      <x:scenario label="[A.1] A simple model">
         <x:context mode="splitting" select="/*">
            <model>
               <a/>
               <b/>
               <c/>
            </model>
         </x:context>
         <x:expect label="passes through">
            <model>
               <a/>
               <b/>
               <c/>
            </model>
         </x:expect>
      </x:scenario>
      <x:scenario label="[A.2] A model with a choice">
         <x:context mode="splitting" select="/*">
            <model>
               <a/>
               <b/>
               <choice>
               <c1/>
                  <c2/>
               </choice>
               <d/>
            </model>
         </x:context>
         <x:expect label="expands into two">
            <model>
               <a/>
               <b/>
               <c1/>
               <d/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d/>
            </model>
         </x:expect>
      </x:scenario>
      <x:scenario label="[A.3] A kind-of crazy case">
         <x:context mode="splitting" select="/*">
            <model>
               <a/>
               <b/>
               <choice>
                  <c1/>
                  <c2/>
               </choice>
               <choice>
                  <d1/>
                  <d2/>
               </choice>
               <e/>
               <e/>
               <f/>
               <choice>
                  <g1/>
                  <g2/>
                  <g3/>
               </choice>
            </model>
         </x:context>
         <x:expect label="expands into twelve (2 x 2 x 3)">
            <model>
               <a/>
               <b/>
               <c1/>
               <d1/>
               <e/>
               <e/>
               <f/>
               <g1/>
            </model>
            <model>
               <a/>
               <b/>
               <c1/>
               <d1/>
               <e/>
               <e/>
               <f/>
               <g2/>
            </model>
            <model>
               <a/>
               <b/>
               <c1/>
               <d1/>
               <e/>
               <e/>
               <f/>
               <g3/>
            </model>
            <model>
               <a/>
               <b/>
               <c1/>
               <d2/>
               <e/>
               <e/>
               <f/>
               <g1/>
            </model>
            <model>
               <a/>
               <b/>
               <c1/>
               <d2/>
               <e/>
               <e/>
               <f/>
               <g2/>
            </model>
            <model>
               <a/>
               <b/>
               <c1/>
               <d2/>
               <e/>
               <e/>
               <f/>
               <g3/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d1/>
               <e/>
               <e/>
               <f/>
               <g1/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d1/>
               <e/>
               <e/>
               <f/>
               <g2/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d1/>
               <e/>
               <e/>
               <f/>
               <g3/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d2/>
               <e/>
               <e/>
               <f/>
               <g1/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d2/>
               <e/>
               <e/>
               <f/>
               <g2/>
            </model>
            <model>
               <a/>
               <b/>
               <c2/>
               <d2/>
               <e/>
               <e/>
               <f/>
               <g3/>
            </model>
         </x:expect>
      </x:scenario>
      <x:scenario label="Nested choices" pending="aren't actually permitted (thankfully)">
         <x:context select="/*" mode="splitting">
         <model>
            <choice>
               <a1/>
               <a2/>
               <choice>
                  <a3a/>
                  <a3b/>
               </choice>
            </choice>
            <b/>
         </model>
         </x:context>
         <x:expect label="expands into four (2 x 2)">
            <model>
               <a1/>
               <b/>
            </model>
            <model>
               <a2/>
               <b/>
            </model>
            <model>
               <a3a/>
               <b/>
            </model>
            <model>
               <a3b/>
               <b/>
            </model>
         </x:expect>            
      </x:scenario>
   </x:scenario>
</x:description>
